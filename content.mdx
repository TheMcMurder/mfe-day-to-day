# MFEs and the Force: Be mindful of the Future

---

## A wise Jedi once said
“Be mindful of the future. But not at the expense of the moment.” 

---

# Feedback requested
- https://tinyurl.com/yyvemo3p
- https://docs.google.com/forms/d/e/1FAIpQLSdYQvGXoiZWIUIlv10amr1v6CYc4XiQV_nh8K2QC2BhkcZL7A/viewform
- Feedback will produce additional presentations (or not)

---

# What this presentation is not

- <Appear>The last presenation</Appear>
- <Appear>Technical deep dive into how MFEs work at every level</Appear>

---

# What this will cover
- <Appear>What is taking so long</Appear>
- <Appear>An overview of DX in MFE land</Appear>
- <Appear>MFE Misconceptions</Appear>
- <Appear>Why Star Wars is the best franchise of all time</Appear>
- <Appear>Technical details where it makes sense</Appear>

---

# What is taking so long?

TL;DR It's all about the DX. Oh... And a CDN bug that AWS engineers can't figure out.

---

<div
  className="w-screen h-screen bg-center bg-cover flex items-center flex-col justify-center"
  style={{
    backgroundColor: `black`,
  }}
>
  <h2 className='text-white'>Migration - The Dark Times</h2>
  <img className='mx-auto h-64' src="https://i.imgur.com/YEzy5Zx.png" alt="Stage 0"></img>
</div>

---

<div
  className="w-screen h-screen bg-center bg-cover flex items-center flex-col justify-center text-white"
  style={{
    backgroundImage: `url('https://www.scifiworld.es/images/galerias/films/SW%20A%20New%20Hope/EP4-000000i_R_8x10.jpg')`,
    backgroundSize: `270px 400px`,
    backgroundRepeat: 'repeat',
    textShadow: 'black 1px 0 20px',
  }}
>
  <div
    className='p-8 flex flex-col justify-center items-center'
    style={{
      backgroundColor: 'rgba(0, 0, 0, .25)',
    }}
  >
    <h2>Migration - A New Hope</h2>
    <img className='mx-auto h-64' src="https://i.imgur.com/LXajsGW.png" alt="Stage 1"></img>
    <Appear>Teams can technically start using MFEs - but...</Appear>
  </div>
</div>

---

<div
  className="w-screen h-screen bg-center bg-cover flex items-center flex-col justify-center text-white"
  style={{
    backgroundImage: `url('https://cdn.shopify.com/s/files/1/0037/8008/3782/products/phantom_menace_styleB_SD14854_B2_framed2.jpg?v=1548344172')`,
    backgroundSize: `270px 400px`,
    backgroundRepeat: 'repeat',
    textShadow: 'black 1px 0 20px',
  }}
>
  <div
    className='p-8 flex flex-col justify-center items-center'
    style={{
      backgroundColor: 'rgba(0, 0, 0, .25)',
    }}
  >
    <h2>Migration - The Phantom Menace</h2>
    <img className='mx-auto h-64' src="https://i.imgur.com/vxfekQG.png" alt="Stage 2"></img>
    <Appear>Teams can technically start using MFEs - but...</Appear>
  </div>
</div>

---

<div
  className="w-screen h-screen bg-center bg-cover flex items-center flex-col justify-center text-white"
  style={{
    backgroundImage: `url('https://image.tmdb.org/t/p/original/kyzCRZc3Swrhy7wwdf0YOh4Mw5E.jpg')`,
    backgroundSize: `270px 400px`,
    backgroundRepeat: 'repeat',
    textShadow: 'black 1px 0 20px',
  }}
>
  <div
    className='p-8 flex flex-col justify-center items-center'
    style={{
      backgroundColor: 'rgba(0, 0, 0, .25)',
    }}
  >
    <h2>Migration - Attack of the Clones</h2>
    <img className='mx-auto h-64' src="https://i.imgur.com/nDbxUbi.png" alt="Stage 3"></img>
    <Appear>Better incremental path to success.</Appear>
  </div>
</div>

---

## So long - Migration - Return of the Jedi
- <Appear>Embed with a few teams and migrate a few areas. Ensure that DX is good and MFE Utilities make sense</Appear>
- <Appear>After successful embedding. MFE general availabiliy</Appear>
- <Appear>Support Teams as they migrate</Appear>
- <Appear>Continually tackle feedback and improve DX</Appear>

---

## So long - Migration - Stage ?
![Stage X - Completed migration: All modules have been extracted from QS and now teams can tackle their shims/tech debt with MFE benefits](https://i.imgur.com/6oDiI8o.png){.mx-auto .h-64}

---

## So long - But the DX _now_ stinks (Empire Strikes Back)
- Goal is DX nirvanna. We're working on improvements to the current experience.
- Send us feedback (#ask-web-platform). We want to get it right.

---

## So long - CDN bug
- <Appear>For some reason `origin` header isn't being recieved by cloudfront in some cases</Appear>
- <Appear>We can prove that it's being sent</Appear>
- <Appear>AWS can prove that they aren't getting it</Appear>
- <Appear>Our latest change _should_ work around the issue.</Appear>
- <Appear>But we've thought that before...</Appear>

---

# MFE Misconceptions

---

## Misconception - Autonomy and alignment
- Not anarchy
- Not a mutually exclusive relationship
<Appear>
  <img src='https://miro.medium.com/max/1300/1*3PQHnnpNKsVAJhNts_GhPQ.png' className='mx-auto h-64'></img>
</Appear>

---

## Misconception - Standarization/Consistency and Flexibility

- <Appear>Standardization helps enable flexibility/autonomy</Appear>
- <Appear>MFE utilities (data-fetching, notification-service, etc) replace QS context and provide APIs to access data</Appear>
- <Appear>Hate the exposed APIs? Open an issue on it, propose a change, etc.</Appear>

---

## Misconception - Module federation

|         | Module Federation   |  SystemJS                |
| ------- | ------------------- | ------------------------ |
| format  | CommonJS only       | System.register prefered |
| registry| set/get             | set/get/import/delete/etc|
| build   | webpack/rollup      | webpack/rollup/others    |
| esm*    | CJS features only   | Supports ESM features    |

<p className='text-xs pt-4'><span className='text-red-500'>*</span> referring to module format supporting ESM features. IE live bindings</p>

---

## Misconception - Browser specifications

- Import maps are a browser specification that is actively being implemented
- SystemJS provides polyfills for browser specs: import-maps, module loading, and additional related specs.
- SystemJS also provides a module registery API. This functionality is extremely useful but not part of any browser specifications.

---

# How MFEs will change day to day work

---

## DX - More autonomy
- <Appear>Deploy code when it makes sense for your team</Appear>
- <Appear>Ownership over codebase</Appear>
- <Appear>Internal open source</Appear>

---

## DX - say goodbye to NPM modules

- ~~yarn link ...~~

---

## DX - overriding modules

- React v17 (Demo)
- Navbar (Demo)

---

## DX - more improvements planned
- <Appear>Getting the correct URL</Appear>
- <Appear>Certificate management stuff</Appear>
- <Appear>Hot reloading</Appear>
- <Appear>Dependency Analysis</Appear>
- <Appear>Deprecation Warnings</Appear>
- <Appear>Custom lint tools</Appear>

---

<div
  className="w-screen h-screen bg-center bg-cover flex items-center"
  style={{
    backgroundColor: `black`,
  }}
>
  <h1 className='text-center text-4xl text-white'>Why Star Wars is the best franchise of all time</h1>
</div>

---

## Empire did nothing wrong debate
![Empire did nothing wrong key tenant](https://i.redd.it/iy2k7nv46fy01.jpg){.mx-auto .h-64}

---

<div
  className="w-screen h-screen bg-center bg-cover flex items-center flex-col justify-center"
  style={{
    backgroundColor: `black`,
  }}
>
  <h2 className='text-white'>Solution</h2>
  <img className='mx-auto h-64' src="https://3.bp.blogspot.com/-noJ8pOyQeyQ/VmENkQnXWbI/AAAAAAAAkP0/c59ctbhu0V4/s1600/star-wars-episode-iv-opening-crawl-new-hope.png" alt="Evil Galactic empire"></img>
</div>

---

## Prequel Memes
![Grievous saber overkill](https://i.redd.it/pmdwpyuwbss41.jpg){.mx-auto .h-64}

---

## Videos like this
<video preload="auto" autoPlay="autoplay" loop="loop" className='mx-auto h-64'>
    <source src="https://i.imgur.com/U9ICges.mp4" type="video/mp4"></source>
</video>

---

## Reviews like this
![Mandalorian Review](https://imgur.com/5WZlPlR.png){.mx-auto .h-64}

---

## and this
![The Last Jedi Review](https://imgur.com/YNgieQG.png){.mx-auto .h-64}

---

## and this
![The Force Awakens Review](https://imgur.com/8QQs2Kj.png){.mx-auto .h-64}

---

## and this
![Rouge One Review](https://imgur.com/VNq90kv.png){.mx-auto .h-64}

---

## and this
![Clone Wars Review](https://imgur.com/VvoPflC.png){.mx-auto .h-64}

---

## and this
![Rebels Review](https://imgur.com/2PxCDsG.png){.mx-auto .h-64}

---

## and this
![Empire Strikes Back Review](https://imgur.com/FILQKLU.png){.mx-auto .h-64}

---

## Thanks! 

[Back to beginning](/0)
## powered by [minideck](https://github.com/filoxo/minideck)